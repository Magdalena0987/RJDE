"use strict";function _createForOfIteratorHelper(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}!function(){var t=document.getElementById("site-navigation");if(t){var r=t.getElementsByTagName("button")[0];if(void 0!==r){var e=t.getElementsByTagName("ul")[0];if(void 0!==e){e.classList.contains("nav-menu")||e.classList.add("nav-menu"),r.addEventListener("click",function(){t.classList.toggle("toggled"),"true"===r.getAttribute("aria-expanded")?r.setAttribute("aria-expanded","false"):r.setAttribute("aria-expanded","true")}),document.addEventListener("click",function(e){t.contains(e.target)||(t.classList.remove("toggled"),r.setAttribute("aria-expanded","false"))});var n,a=e.getElementsByTagName("a"),i=e.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a"),o=_createForOfIteratorHelper(a);try{for(o.s();!(n=o.n()).done;){var s=n.value;s.addEventListener("focus",u,!0),s.addEventListener("blur",u,!0)}}catch(e){o.e(e)}finally{o.f()}var c,l=_createForOfIteratorHelper(i);try{for(l.s();!(c=l.n()).done;){c.value.addEventListener("touchstart",u,!1)}}catch(e){l.e(e)}finally{l.f()}}else r.style.display="none"}}function u(){if("focus"===event.type||"blur"===event.type)for(var e=this;!e.classList.contains("nav-menu");)"li"===e.tagName.toLowerCase()&&e.classList.toggle("focus"),e=e.parentNode;if("touchstart"===event.type){var t=this.parentNode;event.preventDefault();var r,n=_createForOfIteratorHelper(t.parentNode.children);try{for(n.s();!(r=n.n()).done;){var a=r.value;t!==a&&a.classList.remove("focus")}}catch(e){n.e(e)}finally{n.f()}t.classList.toggle("focus")}}}();var intersectionOptions={root:null,rootMargin:"10px",threshold:.4},observerFade=new IntersectionObserver(intersectionCallFade,intersectionOptions),fade=document.querySelectorAll(".js-animate-fade");function intersectionCallFade(e,t){e.forEach(function(e){.4<=e.intersectionRatio&&e.target.classList.add("js-animate-fade-init")})}fade.forEach(function(e){observerFade.observe(e)});var observerUp=new IntersectionObserver(intersectionCallUp,intersectionOptions),up=document.querySelectorAll(".js-animate-up");function intersectionCallUp(e,t){e.forEach(function(e){.4<=e.intersectionRatio&&e.target.classList.add("js-animate-up-init")})}up.forEach(function(e){observerUp.observe(e)});var observerRight=new IntersectionObserver(intersectionCallRight,intersectionOptions),right=document.querySelectorAll(".js-animate-right");function intersectionCallRight(e,t){e.forEach(function(e){.4<=e.intersectionRatio&&e.target.classList.add("js-animate-right-init")})}right.forEach(function(e){observerRight.observe(e)});var observerLeft=new IntersectionObserver(intersectionCallLeft,intersectionOptions),left=document.querySelectorAll(".js-animate-left");function intersectionCallLeft(e,t){e.forEach(function(e){.4<=e.intersectionRatio&&e.target.classList.add("js-animate-left-init")})}left.forEach(function(e){observerLeft.observe(e)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5hdmlnYXRpb24uanMiLCJzY3JvbGwtdHJpZ2dlcmVkLWFuaW1hdGlvbnMuanMiXSwibmFtZXMiOlsiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJvIiwiYWxsb3dBcnJheUxpa2UiLCJpdCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiQXJyYXkiLCJpc0FycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwibGVuZ3RoIiwiaSIsIkYiLCJzIiwibiIsImRvbmUiLCJ2YWx1ZSIsImUiLCJfZSIsImYiLCJUeXBlRXJyb3IiLCJlcnIiLCJub3JtYWxDb21wbGV0aW9uIiwiZGlkRXJyIiwic3RlcCIsIm5leHQiLCJfZTIiLCJtaW5MZW4iLCJfYXJyYXlMaWtlVG9BcnJheSIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiZnJvbSIsInRlc3QiLCJhcnIiLCJsZW4iLCJhcnIyIiwic2l0ZU5hdmlnYXRpb24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYnV0dG9uIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJtZW51IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiZXZlbnQiLCJ0YXJnZXQiLCJyZW1vdmUiLCJfc3RlcCIsImxpbmtzIiwibGlua3NXaXRoQ2hpbGRyZW4iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2l0ZXJhdG9yIiwibGluayIsInRvZ2dsZUZvY3VzIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsInN0eWxlIiwiZGlzcGxheSIsInR5cGUiLCJzZWxmIiwidGhpcyIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsInBhcmVudE5vZGUiLCJtZW51SXRlbSIsInByZXZlbnREZWZhdWx0IiwiX3N0ZXAzIiwiX2l0ZXJhdG9yMyIsImNoaWxkcmVuIiwiaW50ZXJzZWN0aW9uT3B0aW9ucyIsInJvb3QiLCJyb290TWFyZ2luIiwidGhyZXNob2xkIiwib2JzZXJ2ZXJGYWRlIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJpbnRlcnNlY3Rpb25DYWxsRmFkZSIsImZhZGUiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImVudHJ5IiwiaW50ZXJzZWN0aW9uUmF0aW8iLCJvYnNlcnZlIiwib2JzZXJ2ZXJVcCIsImludGVyc2VjdGlvbkNhbGxVcCIsInVwIiwib2JzZXJ2ZXJSaWdodCIsImludGVyc2VjdGlvbkNhbGxSaWdodCIsInJpZ2h0Iiwib2JzZXJ2ZXJMZWZ0IiwiaW50ZXJzZWN0aW9uQ2FsbExlZnQiLCJsZWZ0Il0sIm1hcHBpbmdzIjoiYUFFQSxTQUFBQSwyQkFBQUMsRUFBQUMsR0FBQSxJQUFBQyxFQUFBLEdBQUEsb0JBQUFDLFFBQUEsTUFBQUgsRUFBQUcsT0FBQUMsVUFBQSxDQUFBLEdBQUFDLE1BQUFDLFFBQUFOLEtBQUFFLEVBQUFLLDRCQUFBUCxLQUFBQyxHQUFBRCxHQUFBLGlCQUFBQSxFQUFBUSxPQUFBLENBQUFOLElBQUFGLEVBQUFFLEdBQUEsSUFBQU8sRUFBQSxFQUFBQyxFQUFBLGFBQUEsTUFBQSxDQUFBQyxFQUFBRCxFQUFBRSxFQUFBLFdBQUEsT0FBQUgsR0FBQVQsRUFBQVEsT0FBQSxDQUFBSyxNQUFBLEdBQUEsQ0FBQUEsTUFBQSxFQUFBQyxNQUFBZCxFQUFBUyxPQUFBTSxFQUFBLFNBQUFDLEdBQUEsTUFBQUEsR0FBQUMsRUFBQVAsR0FBQSxNQUFBLElBQUFRLFVBQUEseUlBQUEsSUFBQUMsRUFBQUMsR0FBQSxFQUFBQyxHQUFBLEVBQUEsTUFBQSxDQUFBVixFQUFBLFdBQUFULEVBQUFGLEVBQUFHLE9BQUFDLGFBQUFRLEVBQUEsV0FBQSxJQUFBVSxFQUFBcEIsRUFBQXFCLE9BQUEsT0FBQUgsRUFBQUUsRUFBQVQsS0FBQVMsR0FBQVAsRUFBQSxTQUFBUyxHQUFBSCxHQUFBLEVBQUFGLEVBQUFLLEdBQUFQLEVBQUEsV0FBQSxJQUFBRyxH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LG1CQUNBRCxFQUFBbEMsT0FBQVIsVUFBQUUsSUFBQSwwQkFQQW1ELEtBQUFaLFFBQUEsU0FBQXZFLEdBQ0FpRixhQUFBUCxRQUFBMUUiLCJmaWxlIjoidGhlbWUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdDsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgb1tTeW1ib2wuaXRlcmF0b3JdID09IG51bGwpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gb1tTeW1ib2wuaXRlcmF0b3JdKCk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXRbXCJyZXR1cm5cIl0gIT0gbnVsbCkgaXRbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbi8qKlxuICogRmlsZSBuYXZpZ2F0aW9uLmpzLlxuICpcbiAqIEhhbmRsZXMgdG9nZ2xpbmcgdGhlIG5hdmlnYXRpb24gbWVudSBmb3Igc21hbGwgc2NyZWVucyBhbmQgZW5hYmxlcyBUQUIga2V5XG4gKiBuYXZpZ2F0aW9uIHN1cHBvcnQgZm9yIGRyb3Bkb3duIG1lbnVzLlxuICovXG4oZnVuY3Rpb24gKCkge1xuICB2YXIgc2l0ZU5hdmlnYXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2l0ZS1uYXZpZ2F0aW9uJyk7IC8vIFJldHVybiBlYXJseSBpZiB0aGUgbmF2aWdhdGlvbiBkb24ndCBleGlzdC5cblxuICBpZiAoIXNpdGVOYXZpZ2F0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGJ1dHRvbiA9IHNpdGVOYXZpZ2F0aW9uLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdidXR0b24nKVswXTsgLy8gUmV0dXJuIGVhcmx5IGlmIHRoZSBidXR0b24gZG9uJ3QgZXhpc3QuXG5cbiAgaWYgKCd1bmRlZmluZWQnID09PSB0eXBlb2YgYnV0dG9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG1lbnUgPSBzaXRlTmF2aWdhdGlvbi5nZXRFbGVtZW50c0J5VGFnTmFtZSgndWwnKVswXTsgLy8gSGlkZSBtZW51IHRvZ2dsZSBidXR0b24gaWYgbWVudSBpcyBlbXB0eSBhbmQgcmV0dXJuIGVhcmx5LlxuXG4gIGlmICgndW5kZWZpbmVkJyA9PT0gdHlwZW9mIG1lbnUpIHtcbiAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIW1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtbWVudScpKSB7XG4gICAgbWVudS5jbGFzc0xpc3QuYWRkKCduYXYtbWVudScpO1xuICB9IC8vIFRvZ2dsZSB0aGUgLnRvZ2dsZWQgY2xhc3MgYW5kIHRoZSBhcmlhLWV4cGFuZGVkIHZhbHVlIGVhY2ggdGltZSB0aGUgYnV0dG9uIGlzIGNsaWNrZWQuXG5cblxuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgc2l0ZU5hdmlnYXRpb24uY2xhc3NMaXN0LnRvZ2dsZSgndG9nZ2xlZCcpO1xuXG4gICAgaWYgKGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKSA9PT0gJ3RydWUnKSB7XG4gICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgIH1cbiAgfSk7IC8vIFJlbW92ZSB0aGUgLnRvZ2dsZWQgY2xhc3MgYW5kIHNldCBhcmlhLWV4cGFuZGVkIHRvIGZhbHNlIHdoZW4gdGhlIHVzZXIgY2xpY2tzIG91dHNpZGUgdGhlIG5hdmlnYXRpb24uXG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgaXNDbGlja0luc2lkZSA9IHNpdGVOYXZpZ2F0aW9uLmNvbnRhaW5zKGV2ZW50LnRhcmdldCk7XG5cbiAgICBpZiAoIWlzQ2xpY2tJbnNpZGUpIHtcbiAgICAgIHNpdGVOYXZpZ2F0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3RvZ2dsZWQnKTtcbiAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICB9XG4gIH0pOyAvLyBHZXQgYWxsIHRoZSBsaW5rIGVsZW1lbnRzIHdpdGhpbiB0aGUgbWVudS5cblxuICB2YXIgbGlua3MgPSBtZW51LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJyk7IC8vIEdldCBhbGwgdGhlIGxpbmsgZWxlbWVudHMgd2l0aCBjaGlsZHJlbiB3aXRoaW4gdGhlIG1lbnUuXG5cbiAgdmFyIGxpbmtzV2l0aENoaWxkcmVuID0gbWVudS5xdWVyeVNlbGVjdG9yQWxsKCcubWVudS1pdGVtLWhhcy1jaGlsZHJlbiA+IGEsIC5wYWdlX2l0ZW1faGFzX2NoaWxkcmVuID4gYScpOyAvLyBUb2dnbGUgZm9jdXMgZWFjaCB0aW1lIGEgbWVudSBsaW5rIGlzIGZvY3VzZWQgb3IgYmx1cnJlZC5cblxuICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobGlua3MpLFxuICAgICAgX3N0ZXA7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgdmFyIGxpbmsgPSBfc3RlcC52YWx1ZTtcbiAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0b2dnbGVGb2N1cywgdHJ1ZSk7XG4gICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0b2dnbGVGb2N1cywgdHJ1ZSk7XG4gICAgfSAvLyBUb2dnbGUgZm9jdXMgZWFjaCB0aW1lIGEgbWVudSBsaW5rIHdpdGggY2hpbGRyZW4gcmVjZWl2ZSBhIHRvdWNoIGV2ZW50LlxuXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9pdGVyYXRvci5lKGVycik7XG4gIH0gZmluYWxseSB7XG4gICAgX2l0ZXJhdG9yLmYoKTtcbiAgfVxuXG4gIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobGlua3NXaXRoQ2hpbGRyZW4pLFxuICAgICAgX3N0ZXAyO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHtcbiAgICAgIHZhciBfbGluayA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgX2xpbmsuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRvZ2dsZUZvY3VzLCBmYWxzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgb3IgcmVtb3ZlcyAuZm9jdXMgY2xhc3Mgb24gYW4gZWxlbWVudC5cbiAgICAgKi9cblxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfaXRlcmF0b3IyLmUoZXJyKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBfaXRlcmF0b3IyLmYoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZUZvY3VzKCkge1xuICAgIGlmIChldmVudC50eXBlID09PSAnZm9jdXMnIHx8IGV2ZW50LnR5cGUgPT09ICdibHVyJykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzOyAvLyBNb3ZlIHVwIHRocm91Z2ggdGhlIGFuY2VzdG9ycyBvZiB0aGUgY3VycmVudCBsaW5rIHVudGlsIHdlIGhpdCAubmF2LW1lbnUuXG5cbiAgICAgIHdoaWxlICghc2VsZi5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1tZW51JykpIHtcbiAgICAgICAgLy8gT24gbGkgZWxlbWVudHMgdG9nZ2xlIHRoZSBjbGFzcyAuZm9jdXMuXG4gICAgICAgIGlmICgnbGknID09PSBzZWxmLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgIHNlbGYuY2xhc3NMaXN0LnRvZ2dsZSgnZm9jdXMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYgPSBzZWxmLnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0Jykge1xuICAgICAgdmFyIG1lbnVJdGVtID0gdGhpcy5wYXJlbnROb2RlO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtZW51SXRlbS5wYXJlbnROb2RlLmNoaWxkcmVuKSxcbiAgICAgICAgICBfc3RlcDM7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgdmFyIGxpbmsgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICBpZiAobWVudUl0ZW0gIT09IGxpbmspIHtcbiAgICAgICAgICAgIGxpbmsuY2xhc3NMaXN0LnJlbW92ZSgnZm9jdXMnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvcjMuZigpO1xuICAgICAgfVxuXG4gICAgICBtZW51SXRlbS5jbGFzc0xpc3QudG9nZ2xlKCdmb2N1cycpO1xuICAgIH1cbiAgfVxufSkoKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXHJcbiAqIHNjcm9sbC10cmlnZ2VyZWQtYW5pbWF0aW9ucy5qcy5cclxuICpcclxuICovXG52YXIgaW50ZXJzZWN0aW9uT3B0aW9ucyA9IHtcbiAgcm9vdDogbnVsbCxcbiAgLy8gdXNlIHRoZSB2aWV3cG9ydFxuICByb290TWFyZ2luOiAnMTBweCcsXG4gIC8vIG9mZnNldFxuICB0aHJlc2hvbGQ6IDAuNCAvLyB0aGUgcGVyY2VudGFnZSBvZiBlbGVtZW50IHRoYXQgbmVlZHMgdG8gYmUgdmlzaWJsZSB0byB0cmlnZ2VyIGFuaW1hdGlvbnNcblxufTtcbnZhciBvYnNlcnZlckZhZGUgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaW50ZXJzZWN0aW9uQ2FsbEZhZGUsIGludGVyc2VjdGlvbk9wdGlvbnMpO1xudmFyIGZhZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtYW5pbWF0ZS1mYWRlJyk7XG5mYWRlLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgb2JzZXJ2ZXJGYWRlLm9ic2VydmUoZSk7XG59KTtcblxuZnVuY3Rpb24gaW50ZXJzZWN0aW9uQ2FsbEZhZGUoZW50cmllcywgb2JzZXJ2ZXJGYWRlKSB7XG4gIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICBpZiAoZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPj0gMC40KSB7XG4gICAgICBlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnanMtYW5pbWF0ZS1mYWRlLWluaXQnKTtcbiAgICB9XG4gIH0pO1xufVxuXG52YXIgb2JzZXJ2ZXJVcCA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihpbnRlcnNlY3Rpb25DYWxsVXAsIGludGVyc2VjdGlvbk9wdGlvbnMpO1xudmFyIHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWFuaW1hdGUtdXAnKTtcbnVwLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgb2JzZXJ2ZXJVcC5vYnNlcnZlKGUpO1xufSk7XG5cbmZ1bmN0aW9uIGludGVyc2VjdGlvbkNhbGxVcChlbnRyaWVzLCBvYnNlcnZlclVwKSB7XG4gIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICBpZiAoZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPj0gMC40KSB7XG4gICAgICBlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnanMtYW5pbWF0ZS11cC1pbml0Jyk7XG4gICAgfVxuICB9KTtcbn1cblxudmFyIG9ic2VydmVyUmlnaHQgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaW50ZXJzZWN0aW9uQ2FsbFJpZ2h0LCBpbnRlcnNlY3Rpb25PcHRpb25zKTtcbnZhciByaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1hbmltYXRlLXJpZ2h0Jyk7XG5yaWdodC5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gIG9ic2VydmVyUmlnaHQub2JzZXJ2ZShlKTtcbn0pO1xuXG5mdW5jdGlvbiBpbnRlcnNlY3Rpb25DYWxsUmlnaHQoZW50cmllcywgb2JzZXJ2ZXJSaWdodCkge1xuICBlbnRyaWVzLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgaWYgKGVudHJ5LmludGVyc2VjdGlvblJhdGlvID49IDAuNCkge1xuICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2pzLWFuaW1hdGUtcmlnaHQtaW5pdCcpO1xuICAgIH1cbiAgfSk7XG59XG5cbnZhciBvYnNlcnZlckxlZnQgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaW50ZXJzZWN0aW9uQ2FsbExlZnQsIGludGVyc2VjdGlvbk9wdGlvbnMpO1xudmFyIGxlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtYW5pbWF0ZS1sZWZ0Jyk7XG5sZWZ0LmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgb2JzZXJ2ZXJMZWZ0Lm9ic2VydmUoZSk7XG59KTtcblxuZnVuY3Rpb24gaW50ZXJzZWN0aW9uQ2FsbExlZnQoZW50cmllcywgb2JzZXJ2ZXJMZWZ0KSB7XG4gIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICBpZiAoZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPj0gMC40KSB7XG4gICAgICBlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnanMtYW5pbWF0ZS1sZWZ0LWluaXQnKTtcbiAgICB9XG4gIH0pO1xufSJdfQ==
